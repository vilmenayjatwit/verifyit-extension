(()=>{"use strict";({799:function(){var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function c(e){try{a(r.next(e))}catch(e){s(e)}}function l(e){try{a(r.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}a((r=r.apply(e,t||[])).next())})};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("searchScene"),n=document.getElementById("resultsScene"),r=document.getElementById("resultsList"),o=document.getElementById("backBtn"),s=document.getElementById("submitBtn"),c=document.getElementById("userInput"),l=document.getElementById("error");function a(o){return e(this,void 0,void 0,function*(){try{l.textContent="Searching for sources...",r.innerHTML="";const e=yield fetch("http://localhost:8000/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o})}),t=yield e.json();console.log("Raw SerpAPI response:",t),t.organic_results&&Array.isArray(t.organic_results)?(l.textContent="",t.organic_results.slice(0,3).forEach(e=>{const t=document.createElement("a");t.className="result-card",t.href=e.link||"#",t.target="_blank",t.rel="noopener noreferrer",t.textContent=e.title||"Untitled",r.appendChild(t)}),document.querySelectorAll("#resultsList .result-card").forEach(e=>{e.addEventListener("mousemove",t=>{const n=e.getBoundingClientRect(),r=(t.clientX-n.left)/n.width*100,o=(t.clientY-n.top)/n.height*100;e.style.setProperty("--x",`${r}%`),e.style.setProperty("--y",`${o}%`)}),e.addEventListener("mouseleave",()=>{e.style.setProperty("--x","50%"),e.style.setProperty("--y","50%")})})):l.textContent="No sources have been found."}catch(e){console.error("Fetch error:",e),l.textContent="An error occurred. Please try again."}finally{t.style.display="none",n.style.display="block"}})}o.addEventListener("click",()=>{r.innerHTML="",n.style.display="none",t.style.display="block",l.textContent=""}),s.addEventListener("click",()=>{a(c.value.trim())});const i=new URLSearchParams(window.location.search).get("text");i&&(c.value=i,a(i));const d=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);document.querySelectorAll(".particle").forEach(e=>{e.setAttribute("style",`\n        --x:${d(20,80)};\n        --y:${d(20,80)};\n        --duration:${d(6,20)};\n        --delay:${d(1,10)};\n        --alpha:${d(40,90)/100};\n        --origin-x:${Math.random()>.5?-1*d(300,800):d(300,800)}%;\n        --origin-y:${Math.random()>.5?-1*d(300,800):d(300,800)}%;\n        --size:${d(40,90)/100};\n      `)})})}})[799]()})();